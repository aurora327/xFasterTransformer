# Model Test

## How to run
```shell
python test.py --config ${MODEL_CONFIG_JSON}

```

## How to config
### Modify the json file for test.
- `name`: Test name.
- `token_path`: The path of huggingface format tokenizer and model.
- `model_path`: The path of xfastertransformer's format model.
- `data_types`: List of tested data type.
- `test_case`:
    - `${test_group_name}`: Specify the config group name.
        - `num_beams`: Number of beams, used to config seacher type and configuration.
        - `case`: Specified test case.
            - `${case name}`: Name of the test case.
                - `output_len`: Number of generated token ids.
                - `input`: Input prompt.
                - `expected_output`: Expected output generated from transformer which can be generated by `dump.py`

### Generate expected output
```shell
python dump.py --config ${MODEL_CONFIG_JSON} --dump_file ${MODEL_CONFIG_JSON}
```
